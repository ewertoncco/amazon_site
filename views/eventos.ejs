<!-- Wappler include head-page="layouts/dashboard" bootstrap5="custom" is="dmx-app" id="eventos" appConnect="local" components="{dmxBootstrap5Navigation:{},dmxBootstrap5Modal:{},dmxNotifications:{},dmxFormatter:{},dmxTyped:{},dmxValidator:{}}" fontawesome_5pro="cdn" -->
<dmx-serverconnect id="sc_eventos" url="/api/eventos/listar_eventos"></dmx-serverconnect>
<dmx-value id="id_pass" dmx-bind:value="0"></dmx-value>
<dmx-notifications id="notifies1"></dmx-notifications>
<dmx-value id="var_step" dmx-bind:value="2"></dmx-value>
<div class="modal" id="novo_evento" is="dmx-bs5-modal" tabindex="-1">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">NOVO EVENTO</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body pt-0 pb-0">

                <form is="dmx-serverconnect-form" id="sc_novo_evento" method="post" action="/api/eventos/novo_evento" dmx-generator="bootstrap5" dmx-form-type="vertical" dmx-on:success="sc_novo_evento.reset();notifies1.success('Evento cadastrado!');novo_evento.hide()">



                    <div class="row mt-1 mb-2" id="tabs">
                        <div class="align-self-center text-center col-auto">
                            <button id="btn1" class="btn" dmx-class:btn-info="var_step.value==1">1. Geral</button>
                        </div>
                        <div class="align-self-center text-center col-auto">
                            <button id="btn2" class="btn " dmx-class:btn-info="var_step.value==2">2. Banner</button>
                        </div>
                        <div class="align-self-center text-center col-auto">
                            <button id="btn3" class="btn " dmx-class:btn-info="var_step.value==3">3. Opções</button>
                        </div>
                        <div class="align-self-center text-center col-auto">
                            <button id="btn4" class="btn" dmx-class:btn-info="var_step.value==4">4. Financeiro</button>
                        </div>
                    </div>
                    <div class="row" id="step1" dmx-show="var_step.value==1">
                        <div class="form-group mb-3">
                            <label for="inp_evento_nome">Nome do Evento</label>
                            <input type="text" class="form-control" id="inp_evento_nome" name="evento_nome" aria-describedby="inp_evento_nome_help" required="" data-msg-required="Preenchimento obrigatório">
                        </div>
                        <div class="col">
                            <div class="form-group mb-3">
                                <label for="inp_evento_data_hora">Data e hora do evento</label>
                                <input type="datetime-local" class="form-control" id="inp_evento_data_hora" name="evento_data_hora" aria-describedby="inp_evento_data_hora_help" placeholder="Enter Evento data hora" required="" data-msg-required="Preenchimento obrigatório">
                            </div>
                        </div>
                        <div class="col">
                            <div class="form-group mb-3">
                                <label for="inp_evento_local">Nome do Local do Evento</label>
                                <input type="text" class="form-control" id="inp_evento_local" name="evento_local" aria-describedby="inp_evento_local_help" required="" data-msg-required="Preenchimento obrigatório">
                                <span class="font-13 text-muted">Ex: Amazon Club</span>
                            </div>
                        </div>


                        <div class="form-group mb-3">
                            <label for="inp_evento_resumo">Evento resumo</label>
                            <input type="text" class="form-control" id="inp_evento_resumo" name="evento_resumo" aria-describedby="inp_evento_resumo_help" required="" data-msg-required="Preenchimento obrigatório">
                            <span class="font-13 text-muted">Ex: A Maior festa da região.</span>
                        </div>
                        <div class="form-group mb-3">
                            <label for="inp_evento_descricao">Evento descrição</label>

                            <div class="form-group">
                                <textarea class="form-control" id="inp_evento_descricao" rows="3" name="evento_descricao" required="" data-msg-required="Preenchimento obrigatório"></textarea>
                            </div>
                        </div>
                    </div>
                    <div class="row" id="step2" dmx-show="var_step.value==2">
                        <div class="form-group mb-3">
                            <div class="row gap-3">
                                <div class="rounded-2 border-1 border rounded border-secondary-subtle pt-3 pb-3 col text-center">
                                    <div class="mb-3">
                                        <i class="display-6 text-muted mdi mdi-camera-plus"></i>
                                    </div>
                                    <p id="bannerprincipal">Banner Principal</p>
                                    <input id="file1" name="file1" type="file" class="form-control">
                                </div>
                                <div class="rounded-2 border-1 border rounded border-secondary-subtle pt-3 pb-3 col text-center">
                                    <div class="mb-3">
                                        <i class="display-6 text-muted mdi mdi-camera-plus"></i>
                                    </div>
                                    <p id="bannersegundario">Banner 2</p>
                                </div>
                            </div>
                        </div>
                        <div class="form-group mb-3">
                            <div class="row align-items-center gap-3">
                                <div class="align-self-center text-start col">
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" value="1" id="inp_tem_mapa" name="tem_mapa">
                                        <label class="form-check-label mt-0 mb-0" for="inp_tem_mapa">Adicionar Mapa do evento</label>
                                    </div>
                                </div>
                                <div class="rounded-2 border-1 border rounded border-secondary-subtle pt-2 pb-2 col text-center" dmx-show="novo_evento.sc_novo_evento.inp_tem_mapa.checked">
                                    <div class="mb-3">
                                        <i class="display-6 text-muted mdi mdi-camera-plus"></i>
                                    </div>
                                    <p id="modaltitle">Clique para adicionar uma imagem</p>
                                </div>
                            </div>

                        </div>


                    </div>
                    <div class="row" id="step3" dmx-show="var_step.value==3">
                        <div class="form-group mb-3">
                            <div class="row align-items-center">
                                <div class="col">
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" checked="true" id="inp_mostrar_whatsapp" name="mostrar_whatsapp" value="1">
                                        <label class="form-check-label mt-0 mb-0" for="inp_mostrar_whatsapp">Mostrar whatsapp?</label>
                                    </div>
                                </div>
                                <div class="col" dmx-show="modal1.serverconnectform1.inp_mostrar_whatsapp.checked"><label for="inp_numero_whatsapp">Número whatsapp</label><input type="text" class="form-control" id="inp_numero_whatsapp" name="numero_whatsapp" aria-describedby="inp_numero_whatsapp_help"></div>
                            </div>


                        </div>
                        <div class="form-group mb-3">
                            <div class="row">
                                <div class="col">
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" checked="true" id="inp_mostrar_sobre_evento" name="mostrar_sobre_evento" value="1">
                                        <label class="form-check-label" for="inp_mostrar_sobre_evento">Mostrar descrição do Evento</label>
                                    </div>
                                </div>
                                <div class="col">
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" checked="true" id="inp_evento_destaque" name="evento_destaque" value="1">
                                        <label class="form-check-label" for="inp_evento_destaque">Destacar evento</label>
                                    </div>

                                </div>
                            </div>

                        </div>
                        <div class="form-group mb-3">

                            <select id="evento_status" class="form-select" dmx-bind:value="1" name="evento_status">
                                <option value="1">Publicar agora</option>
                                <option value="2">Publicar depois</option>
                            </select>
                        </div>
                        <div class="form-group mb-3">
                            <div class="row">
                                <div class="col">
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" checked="true" id="inp_pode_alterar_ingresso" name="pode_alterar_ingresso" value="1">
                                        <label class="form-check-label" for="inp_pode_alterar_ingresso">Pode alterar nome no ingresso</label>
                                    </div>
                                </div>
                                <div class="col">
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" checked="true" id="inp_pode_devolver_ingresso" name="pode_devolver_ingresso" value="1">
                                        <label class="form-check-label" for="inp_pode_devolver_ingresso">Permitir reembolso</label>
                                    </div><small id="bs5-form-group-help1" class="form-text text-muted">Até 7 dias após a compra e menos de 48 horas antes do evento</small>
                                </div>
                            </div>

                        </div>
                    </div>
                    <div class="row" id="step4" dmx-show="var_step.value==4">
                        <div class="form-group mb-3">
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" checked="true" id="inp_aceita_pix" name="aceita_pix" value="1">
                                <label class="form-check-label" for="inp_aceita_pix">Aceitar pagamento com Pix</label>
                            </div>
                        </div>
                        <div class="form-group mb-3">
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" checked="true" id="inp_aceita_cartao" name="aceita_cartao" value="1">
                                <label class="form-check-label" for="inp_aceita_cartao">Aceitar pagamentos com cartão de crédito</label>
                            </div>
                        </div>
                        <div class="form-group mb-3">

                            <label for="inp_qtide_parcelas_cartao">Quantidade de parcelas aceitas no cartão</label>
                            <select id="qtide_parcelas_cartao" class="form-select" name="qtide_parcelas_cartao" dmx-bind:value="1">
                                <option value="1">Somente à vista</option>
                                <option value="2">até 2x</option>
                                <option value="3">até 3x</option>
                                <option value="4">até 4x</option>
                                <option value="5">até 5x</option>
                            </select>
                        </div>
                    </div>
                    <div class="row justify-content-end align-items-center mb-3">
                        <div class="col-auto"><button id="btn6" class="btn" dmx-on:click="var_step.setValue(var_step.value-1)" dmx-hide="var_step.value==1">Voltar</button></div>
                        <div class="col-auto"><button id="btn7" class="btn btn-info" dmx-on:click="var_step.setValue(var_step.value+1)" dmx-hide="var_step.value==4" dmx-class:disabled="novo_evento.sc_novo_evento.inp_evento_nome.value.isEmpty()||novo_evento.sc_novo_evento.inp_evento_data_hora.value.isEmpty()||novo_evento.sc_novo_evento.inp_evento_local.value.isEmpty()||novo_evento.sc_novo_evento.inp_evento_resumo.value.isEmpty()||novo_evento.sc_novo_evento.inp_evento_descricao.value.isEmpty()">Próximo</button></div>
                        <div class="col-auto"><button type="submit" class="btn btn-primary btn-lg" dmx-show="var_step.value==4">Criar evento</button></div>
                    </div>




















                </form>

            </div>

        </div>
    </div>
</div>
<meta name="ac:route" content="/eventos">
<div class="card page-title-box rounded-0">
    <div class="d-flex justify-content-between align-items-center">
        <h4 class="font-18 fw-semibold mb-0">EVENTOS</h4><button type="button" class="btn btn-primary waves-effect waves-light ms-2" dmx-on:click="novo_evento.show()"><span class="btn-label"><i class="mdi mdi-plus"></i>
            </span>Novo evento</button>
    </div>
</div>
<div class="card-body pt-2">
    <ul class="nav nav-tabs mb-3" role="tablist">
        <li class="nav-item" role="presentation">
            <a href="#home" data-bs-toggle="tab" aria-expanded="false" class="nav-link  active" aria-selected="false" role="tab" tabindex="-1">Eventos On-Line</a>
        </li>
        <li class="nav-item" role="presentation">
            <a href="#profile" data-bs-toggle="tab" aria-expanded="true" class="nav-link" aria-selected="true" role="tab">Eventos Finalizados</a>
        </li>
        <li class="nav-item" role="presentation">
            <a href="#settings" data-bs-toggle="tab" aria-expanded="false" class="nav-link" aria-selected="false" tabindex="-1" role="tab">Todos os Eventos</a>
        </li>
    </ul>

    <div class="tab-content">
        <div class="tab-pane active show" id="home" role="tabpanel">
            <div class="card-body pt-2">
                <div class="row">
                    <div class="row">
                        <div class="col-lg-12 col-xl-12">
                            <div class="card">
                                <div class="card-body pt-2">
                                    <div class="row">
                                        <div class="col">
                                            <div class="card-body pt-2">
                                                <div class="table-responsive">
                                                    <table class="table table-hover m-0 table-actions-bar">

                                                        <thead>
                                                            <tr>
                                                                <th>
                                                                    <div class="btn-group dropdown">
                                                                        <div class="dropdown-menu">
                                                                            <a class="dropdown-item" href="#">Dropdown link</a>
                                                                            <a class="dropdown-item" href="#">Dropdown link</a>
                                                                        </div>
                                                                    </div>
                                                                </th>
                                                                <th>Name</th>
                                                                <th>Local</th>
                                                                <th>Data /Horário</th>
                                                                <th>Público</th>
                                                                <th class="text-center">Ativo</th>
                                                                <th class="text-center">Destaque</th>
                                                                <th class="text-center">Action</th>
                                                            </tr>
                                                        </thead>
                                                        <tbody is="dmx-repeat" id="repeat1" dmx-bind:repeat="sc_eventos.data.query.data" key="id">

                                                            <tr>
                                                                <td>
                                                                    <img src="assets/images/users/avatar-5.jpg" alt="contact-img" title="contact-img" class="rounded-circle avatar-sm">
                                                                </td>

                                                                <td>
                                                                    <h5 class="m-0 fw-medium">{{evento_nome}}</h5>
                                                                </td>

                                                                <td><i class="mdi mdi-map-marker text-primary"></i>{{evento_local}}</td>

                                                                <td><i class="mdi mdi-clock-outline text-success"></i>{{' '+evento_data_hora.formatDate('dd/MM/yy')}}</td>

                                                                <td><i class="mdi mdi-currency-usd text-warning"></i> 500</td>
                                                                <td class="text-center">
                                                                    <button id="btn5" class="btn btn-success btn-sm">Sim</button>

                                                                </td>
                                                                <td class="text-center"><button id="btn8" class="btn btn-success btn-sm">Sim
                                                                    </button>
                                                                </td>

                                                                <td class="text-center">
                                                                    <button id="btn9" class="btn btn-sm" dmx-on:click="browser1.goto('/adm_evento/'+id)">&gt;</button>
                                                                </td>
                                                            </tr>


                                                        </tbody>
                                                    </table>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                        </div>
                        <!-- end col -->



                    </div>
                </div>
            </div>
        </div>
        <div class="tab-pane " id="profile" role="tabpanel">
            <p class="mb-0"><span class="px-1 rounded me-1 fw-semibold d-inline-block bg-danger-subtle text-danger float-start">P</span> "Hi there! I'm a passionate individual who loves to explore new ideas and connect with like-minded people. My interests span a wide range of topics including technology, literature, travel, and fitness. I believe in the power of continuous learning and enjoy challenging myself to grow both personally and professionally.</p>
        </div>
        <div class="tab-pane" id="settings" role="tabpanel">
            <p class="mb-0"><span class="px-1 rounded me-1 fw-semibold d-inline-block bg-secondary-subtle text-secondary float-start">S</span>In the heart of a bustling city lies a quaint little cafe, nestled between towering skyscrapers and historic buildings. Its cozy interior boasts warm, earthy tones accented with splashes of vibrant colors, creating a welcoming atmosphere that beckons passersby to step inside.</p>
        </div>
    </div>

</div>