<!doctype html>
<html lang="pt-br">

<head>
  <script src="/dmxAppConnect/dmxAppConnect.js"></script>
  <base href="/">

  <meta charset="utf-8" />
  <title>Guia360 | Super Gerenciador de estudos</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta content="Guia360. Sua preparação agora em outro nível" name="description">

  <!-- Bootstrap Css -->
  <link href="assets/css/bootstrap.min.css" id="bootstrap-style" rel="stylesheet" type="text/css" />
  <!-- Icons Css -->
  <link href="assets/css/icons.min.css" rel="stylesheet" type="text/css" />
  <!-- App Css-->
  <link href="/assets/css/app.min.css" id="app-style" rel="stylesheet" />


  <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.22.2/moment.min.js" integrity="sha256-CutOzxCRucUsn6C6TcEYsauvvYilEniTXldPa6/wu0k=" crossorigin="anonymous"></script>
  <script src="/dmxAppConnect/dmxCharts/Chart.min.js" defer></script>
  <script src="/dmxAppConnect/dmxCharts/dmxCharts.js" defer></script>
  <script src="/dmxAppConnect/dmxBootstrap5Collapse/dmxBootstrap5Collapse.js" defer></script>
  <script src="/dmxAppConnect/dmxBootstrap5Theme/dmxBootstrap5Theme.js" defer></script>
  <link rel="stylesheet" href="/dmxAppConnect/dmxDatePicker/daterangepicker.min.css" />
  <script src="/dmxAppConnect/dmxDatePicker/daterangepicker.min.js" defer></script>
  <link rel="stylesheet" href="/dmxAppConnect/dmxDatePicker/dmxDatePicker.css" />
  <script src="/dmxAppConnect/dmxDatePicker/dmxDatePicker.js" defer></script>


  <link rel="stylesheet" href="/dmxAppConnect/dmxDatePicker/themes/blue.css" />
  <link rel="stylesheet" href="/dmxAppConnect/dmxBootstrap5TableGenerator/dmxBootstrap5TableGenerator.css" />
  <script src="https://cdn.jsdelivr.net/npm/@fullcalendar/core@6.1.11/index.global.min.js" defer></script>
  <script src="https://cdn.jsdelivr.net/npm/@fullcalendar/core@6.1.11/locales-all.global.min.js" defer></script>
  <script src="https://cdn.jsdelivr.net/npm/@fullcalendar/interaction@6.1.11/index.global.min.js" defer></script>
  <script src="https://cdn.jsdelivr.net/npm/@fullcalendar/daygrid@6.1.11/index.global.min.js" defer></script>
  <script src="/dmxAppConnect/dmxCalendar/dmxCalendar.js" defer></script>
  <script src="/dmxAppConnect/dmxBootstrap5Modal/dmxBootstrap5Modal.js" defer></script>
  <script src="/dmxAppConnect/dmxBootstrap5Navigation/dmxBootstrap5Navigation.js" defer></script>
  <script src="/dmxAppConnect/dmxS3Upload/dmxS3Upload.js" defer></script>
  <script src="/dmxAppConnect/dmxVideo/dmxVideo.js" defer></script>
  <script src="/dmxAppConnect/dmxBackgroundVideo/dmxBackgroundVideo.js" defer></script>
  <link rel="stylesheet" href="/dmxAppConnect/dmxDropzone/dmxDropzone.css" />
  <script src="/dmxAppConnect/dmxDropzone/dmxDropzone.js" defer></script>
  <script src="/dmxAppConnect/dmxFormatter/dmxFormatter.js" defer></script>
  <script src="/dmxAppConnect/dmxTyped/dmxTyped.js" defer></script>
  <script src="/dmxAppConnect/dmxTyped/typed.min.js" defer></script>
  <link rel="stylesheet" href="/dmxAppConnect/dmxNotifications/dmxNotifications.css" />
  <script src="/dmxAppConnect/dmxNotifications/dmxNotifications.js" defer></script>
  <script src="/dmxAppConnect/dmxBootstrap5PagingGenerator/dmxBootstrap5PagingGenerator.js" defer></script>

  <script src="/dmxAppConnect/dmxBrowser/dmxBrowser.js" defer></script>
  <link rel="stylesheet" href="/fontawesome6/css/all.min.css" />
  <script src="/dmxAppConnect/dmxScheduler/dmxScheduler.js" defer></script>
  <script src="/dmxAppConnect/dmxDataTraversal/dmxDataTraversal.js" defer></script>
  <link rel="stylesheet" href="/dmxAppConnect/dmxValidator/dmxValidator.css" />
  <script src="/dmxAppConnect/dmxValidator/dmxValidator.js" defer></script>
  <script src="/dmxAppConnect/dmxStateManagement/dmxStateManagement.js" defer></script>
  <link rel="stylesheet" href="/dmxAppConnect/dmxAutocomplete/dmxAutocomplete.css" />
  <script src="/dmxAppConnect/dmxAutocomplete/dmxAutocomplete.js" defer></script>
  <link rel="stylesheet" href="/dmxAppConnect/dmxPreloader/dmxPreloader.css" />
  <script src="/dmxAppConnect/dmxPreloader/dmxPreloader.js" defer></script>
  <link rel="stylesheet" href="/dmxAppConnect/dmxAnimateCSS/animate.min.css" />
  <script src="/dmxAppConnect/dmxAnimateCSS/dmxAnimateCSS.js" defer></script>
  <script src="/socket.io/socket.io.js" defer></script>
  <script src="/dmxAppConnect/dmxSockets/dmxSockets.js" defer></script>
  <link rel="stylesheet" href="/dmxAppConnect/dmxSummernote/summernote-bs5.min.css" />
  <script src="/dmxAppConnect/dmxSummernote/summernote-bs5.min.js" defer></script>
  <script src="/dmxAppConnect/dmxSummernote/dmxSummernote.js" defer></script>
  <script src="/dmxAppConnect/dmxRouting/dmxRouting.js" defer></script>

  <meta name="mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="format-detection" content="telephone=no">
  <meta name="msapplication-tap-highlight" content="no">
  <meta http-equiv="Content-Security-Policy" content="default-src * 'self' 'unsafe-inline' 'unsafe-eval' data: gap: content:">
  <script src="/js/dmx-youtube-player.js" defer></script>
  <script src="/dmxAppConnect/dmxBootstrap5Tooltips/dmxBootstrap5Tooltips.js" defer></script>

  <style>
    /* Preloader */
    .preloader {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: 9999;
      display: flex;
      justify-content: center;
      align-items: center;
      background: rgba(255, 255, 255, 0.6);
      backdrop-filter: blur(2px);
      transition: all 0.3s ease;
    }

    .preloader.loaded {
      opacity: 0;
      visibility: hidden;
    }

    .preloader-content {
      text-align: center;
      background: rgba(255, 255, 255, 0.9);
      padding: 2rem;
      border-radius: 1rem;
      box-shadow: 0 0 20px rgba(0, 0, 0, 0.1);
    }

    .spinner {
      width: 40px;
      height: 40px;
      border: 3px solid #f3f3f3;
      border-top: 3px solid var(--bs-info);
      border-radius: 50%;
      animation: spin 1s linear infinite;
    }

    @keyframes spin {
      0% {
        transform: rotate(0deg);
      }

      100% {
        transform: rotate(360deg);
      }
    }

    /* Efeito de blur no conteúdo enquanto carrega - mais suave */
    .content-loading {
      filter: blur(1px);
      pointer-events: none;
    }

    /* Ajuste para tema escuro */
    [data-bs-theme="dark"] .preloader {
      background: rgba(0, 0, 0, 0.6);
    }

    [data-bs-theme="dark"] .preloader-content {
      background: rgba(0, 0, 0, 0.8);
    }

    .card {
      transition: transform 0.3s ease, box-shadow 0.3s ease;
      border-radius: 1rem;
    }

    .card:hover {
      transform: translateY(-5px);
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    }



    /* Thumbnail styles */
    @keyframes pulse {
      0% {
        transform: scale(1);
      }

      50% {
        transform: scale(1.05);
      }

      100% {
        transform: scale(1);
      }
    }

    #timerThumbnail {
      position: fixed;
      bottom: 20px;
      right: 20px;
      background: rgba(255, 255, 255, 0.95);
      padding: 10px 15px;
      border-radius: 8px;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
      z-index: 1000;
      display: none;
      font-size: 16px;
      font-weight: bold;
      cursor: pointer;
      /* Adicionando cursor pointer */
      transition: all 0.3s ease;
      align-items: center;
      gap: 8px;
      animation: pulse 2s infinite;
    }

    [data-bs-theme="dark"] #timerThumbnail {
      background: rgba(33, 37, 41, 0.95);
      color: #fff;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.4);
    }

    #timerThumbnail:hover {
      transform: scale(1.05);
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
      animation: none;
    }

    /* Responsive modal adjustments */
    @media (max-width: 768px) {
      .modal-dialog.modal-fullscreen {
        margin: 0;
        width: 100%;
        height: 100%;
      }

      #cronometroDisplay {
        font-size: 80px !important;
      }

      .modal-body .row {
        flex-direction: column;
        align-items: center;
      }

      .modal-body .col {
        width: 100%;
        max-width: 300px;
        margin-bottom: 15px;
      }

      .modal-footer {
        justify-content: center;
      }
    }
  </style>


</head>

<dmx-socket id="sugestoes" dmx-on:message.sugestoes="sc_sugestoes_pendentes.load({})"></dmx-socket>
<dmx-session-manager id="cronograma"></dmx-session-manager>
<dmx-serverconnect id="sc_sugestoes_pendentes" url="/api/sugestoes/pendentes"></dmx-serverconnect>
<dmx-serverconnect id="sc_notificacoes_internas" url="/api/notificacoes/internas"></dmx-serverconnect>

<body is="dmx-app" id="adm" spa="true" base="true">
  <div id="app-preloader" class="preloader">
    <div class="preloader-content">
      <div class="spinner"></div>
    </div>
  </div>

  <style>
    /* Preloader */
    .preloader {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: 9999;
      display: flex;
      justify-content: center;
      align-items: center;
      background: rgba(255, 255, 255, 0.6);
      backdrop-filter: blur(2px);
      transition: all 0.3s ease;
    }

    .preloader.loaded {
      opacity: 0;
      visibility: hidden;
    }

    .preloader-content {
      text-align: center;
      background: rgba(255, 255, 255, 0.9);
      padding: 2rem;
      border-radius: 1rem;
      box-shadow: 0 0 20px rgba(0, 0, 0, 0.1);
    }

    .spinner {
      width: 40px;
      height: 40px;
      border: 3px solid #f3f3f3;
      border-top: 3px solid var(--bs-info);
      border-radius: 50%;
      animation: spin 1s linear infinite;
    }

    @keyframes spin {
      0% {
        transform: rotate(0deg);
      }

      100% {
        transform: rotate(360deg);
      }
    }

    /* Efeito de blur no conteúdo enquanto carrega - mais suave */
    .content-loading {
      filter: blur(1px);
      pointer-events: none;
    }

    /* Ajuste para tema escuro */
    [data-bs-theme="dark"] .preloader {
      background: rgba(0, 0, 0, 0.6);
    }

    [data-bs-theme="dark"] .preloader-content {
      background: rgba(0, 0, 0, 0.8);
    }
  </style>

  <script>
    document.addEventListener('DOMContentLoaded', function() {
        const preloader = document.getElementById('app-preloader');
        const content = document.querySelector('.container-fluid');

        // Adiciona classe de blur ao conteúdo
        if (content) content.classList.add('content-loading');

        let loadingTimeout;
        let initialRequestsChecked = false;

        function hidePreloader() {
            preloader.classList.add('loaded');
            if (content) content.classList.remove('content-loading');
        }

        function checkAllRequestsComplete() {
            clearTimeout(loadingTimeout);

            // Pega apenas os serverConnects que estão realmente carregando algo
            const pendingRequests = Array.from(document.querySelectorAll('[is="dmx-serverconnect"]'))
                .filter(el => el.hasAttribute('url') && !el.hasAttribute('noload'))
                .map(el => dmx.app.get(el.id))
                .filter(sc => sc); // Remove nulls

            // Se não há requisições pendentes, esconde o preloader
            if (pendingRequests.length === 0) {
                hidePreloader();
                return;
            }

            // Verifica se todas as requisições foram completadas
            const allComplete = pendingRequests.every(sc => 
                sc.data || sc.lastError || !sc.loading
            );

            if (allComplete) {
                setTimeout(hidePreloader, 300);
            } else {
                // Fallback para garantir que o preloader não fique preso
                loadingTimeout = setTimeout(hidePreloader, 3000);
            }
        }

        // Monitora as requisições iniciais
        const initialCheck = () => {
            if (!initialRequestsChecked) {
                checkAllRequestsComplete();
                initialRequestsChecked = true;
            }
        };

        // Monitora todas as requisições do servidor
        const observer = new MutationObserver((mutations) => {
            mutations.forEach((mutation) => {
                if (mutation.type === 'childList') {
                    const serverConnects = mutation.target.querySelectorAll('[is="dmx-serverconnect"]');
                    serverConnects.forEach(sc => {
                        const component = dmx.app.get(sc.id);
                        if (component && !component._preloaderBound) {
                            component._preloaderBound = true;
                            component.addEventListener('success', checkAllRequestsComplete);
                            component.addEventListener('error', checkAllRequestsComplete);
                        }
                    });
                }
            });
        });

        // Observa mudanças no DOM
        observer.observe(document.body, {
            childList: true,
            subtree: true
        });

        // Checa as requisições iniciais
        setTimeout(initialCheck, 500);

        // Fallback final
        window.addEventListener('load', function() {
            setTimeout(hidePreloader, 3000);
        });
    });
  </script>

  <dmx-notifications id="notifies1" position="bottom"></dmx-notifications>
  <dmx-datetime id="hoje" interval="hours"></dmx-datetime>
  <div is="dmx-browser" id="browser1"></div>
  <dmx-serverconnect id="sc_logout" url="/api/usuario/logout" noload="true"></dmx-serverconnect>
  <dmx-serverconnect id="sc_user" url="/api/usuario/usuario_logado"></dmx-serverconnect>

  <!-- <body data-layout="horizontal"> -->

  <!-- Begin page -->
  <div id="layout-wrapper">


    <header id="page-topbar" class="isvertical-topbar">
      <div class="navbar-header">
        <div class="d-flex">
          <!-- LOGO -->
          <div class="navbar-brand-box">
            <a href="index.html" class="logo logo-dark">
              <span class="logo-sm">
                <img src="assets/images/logo-dark-sm.png" alt="" height="26">
              </span>
              <span class="logo-lg">
                <img src="assets/images/logo-dark.png" alt="" height="40">
              </span>
            </a>

            <a href="index.html" class="logo logo-light">
              <span class="logo-lg">
                <img src="assets/images/logo-light.png" alt="" height="30">
              </span>
              <span class="logo-sm">
                <img src="assets/images/logo-light-sm.png" alt="" height="26">
              </span>
            </a>
          </div>

          <button type="button" class="btn btn-sm px-3 font-size-24 header-item waves-effect vertical-menu-btn">
            <i class="bx bx-menu align-middle"></i>
          </button>

          <!-- start page title -->
          <!-- end page title -->

        </div>

        <div class="d-flex">
          <button id="btn1" type="button" class="btn btn-sm waves-effect waves-light text-center align-self-center btn-outline-light">
            <i id="theme-icon" class="fas fa-moon" style="font-size: 1.5em;"></i>
          </button>

          <script>
            document.addEventListener('DOMContentLoaded', function() {
              const themeButton = document.getElementById('btn1');
              const themeIcon = document.getElementById('theme-icon');
              
              // Função para atualizar o ícone com base no tema atual
              function updateIcon() {
                const isDark = document.body.getAttribute('data-bs-theme') === 'dark';
                if (isDark) {
                  themeIcon.className = 'fas fa-sun';
                  themeButton.classList.add('text-warning');
                } else {
                  themeIcon.className = 'fas fa-moon';
                  themeButton.classList.remove('text-warning');
                }
              }
              
              // Atualiza o ícone inicialmente
              updateIcon();
              
              // Adiciona o evento de clique
              themeButton.addEventListener('click', function() {
                const isDark = document.body.getAttribute('data-bs-theme') === 'dark';
                
                if (isDark) {
                  // Muda para tema claro
                  document.body.setAttribute('data-bs-theme', 'light');
                  document.body.setAttribute('data-topbar', 'light');
                  document.body.setAttribute('data-sidebar', 'light');
                  
                  // Atualiza os radio buttons se existirem
                  if (document.getElementById('layout-mode-light')) {
                    document.getElementById('layout-mode-light').checked = true;
                  }
                  if (document.getElementById('topbar-color-light')) {
                    document.getElementById('topbar-color-light').checked = true;
                  }
                  if (document.getElementById('sidebar-color-light')) {
                    document.getElementById('sidebar-color-light').checked = true;
                  }
                } else {
                  // Muda para tema escuro
                  document.body.setAttribute('data-bs-theme', 'dark');
                  document.body.setAttribute('data-topbar', 'dark');
                  document.body.setAttribute('data-sidebar', 'dark');
                  
                  // Atualiza os radio buttons se existirem
                  if (document.getElementById('layout-mode-dark')) {
                    document.getElementById('layout-mode-dark').checked = true;
                  }
                  if (document.getElementById('topbar-color-dark')) {
                    document.getElementById('topbar-color-dark').checked = true;
                  }
                  if (document.getElementById('sidebar-color-dark')) {
                    document.getElementById('sidebar-color-dark').checked = true;
                  }
                }
                
                // Atualiza o ícone
                updateIcon();
              });
            });
          </script>

          <div class="dropdown d-inline-block">
            <button type="button" class="btn header-item noti-icon" id="page-header-notifications-dropdown-v1" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false" dmx-show="sc_notificacoes_internas.data.internas[0].notificacoes.count()&gt;0">
              <i class="bx bx-bell icon-sm align-middle"></i>
              <span class="noti-dot bg-danger rounded-pill">{{sc_notificacoes_internas.data.internas[0].notificacoes.count()}}</span>
            </button>
            <div class="dropdown-menu dropdown-menu-xl dropdown-menu-end p-0" aria-labelledby="page-header-notifications-dropdown-v">
              <div class="p-3">
                <div class="row align-items-center">
                  <div class="col">
                    <h5 class="m-0 font-size-15"> Notificações </h5>
                  </div>
                  <div class="col-auto">

                  </div>
                </div>
                <div class="overflow-auto w-100" is="dmx-repeat" id="lista_notificacoes" dmx-bind:repeat="sc_notificacoes_internas.data.internas[0].notificacoes" style="max-height: 300px;">
                  <div class="col-auto p-2 position-relative w-100">

                    <div class="d-flex">
                      <div class="d-flex p-2 ">
                        <img class="rounded-circle avatar-sm" alt="user-pic" dmx-bind:src="imagem||'assets/images/logo-dark-sm.png'">
                      </div>
                      <div class="d-flex flex-column p-1">
                        <h6 class="mb-1">{{titulo}}</h6>
                        <p class="mb-1">{{mensagem}}</p>
                        <p class="text-muted font-size-13 mb-0">{{criado_em.formatDate('dd/MM/yy')}}</p>
                      </div>
                    </div>
                    <div class="position-absolute top-0 end-0 p-2">

                      <form id="ler_notificacao" is="dmx-serverconnect-form" method="post" action="/api/notificacoes/ler_notificacao" dmx-on:success="sc_notificacoes_internas.load({})">
                        <dmx-form-data id="notificacao_id" name="id" dmx-bind:data="id"></dmx-form-data>
                        <button id="btn3" class="btn p-1" type="submit" onclick="event.stopPropagation();">
                          <i class="fa-solid fa-xmark"></i>
                        </button>

                      </form>
                    </div>
                  </div>
                </div>
              </div>
              <div data-simplebar style="max-height: 250px;">

              </div>
              <div class="p-2 border-top d-grid">
                <a class="btn btn-sm btn-link font-size-14 btn-block text-center" href="javascript:void(0)">
                  <i class="uil-arrow-circle-right me-1"></i>
                </a>
              </div>
            </div>
          </div>

          <div class="dropdown d-inline-block">
            <button type="button" class="btn header-item user text-start d-flex align-items-center" id="page-header-user-dropdown-v" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
              <img class="rounded-circle header-profile-user" alt="Header Avatar" dmx-bind:src="sc_user.data.user.foto?sc_user.data.user.foto:'assets/images/avatar/avatar-3.jpg'">
              <span class="d-none d-xl-inline-block ms-2 fw-medium font-size-15">{{sc_user.data.user.apelido}}</span>
            </button>
            <div class="dropdown-menu dropdown-menu-end pt-0">
              <a class="dropdown-item mt-2" href="/adm_perfil" internal="true"><i class="mdi mdi-account-circle text-muted font-size-16 align-middle me-2"></i> <span class="align-middle">Editar perfil</span></a>

              <div class="dropdown-divider"></div>
              <a class="dropdown-item" dmx-on:click="run([{serverConnect:{name:'sc_logout',outputType:'object',url:'/api/usuario/logout',site:'guia360'}},{run:{outputType:'text',action:`browser1.goto(\'/login\')`}}])" style="cursor: pointer;"><i class="mdi mdi-logout text-muted font-size-16 align-middle me-2"></i> <span class="align-middle">Sair</span></a>
            </div>
          </div>
        </div>
      </div>
    </header>
    <!-- ========== Left Sidebar Start ========== -->
    <div class="vertical-menu">

      <!-- LOGO -->
      <div class="navbar-brand-box">
        <a href="index.html" class="logo logo-dark">
          <span class="logo-sm">
            <img src="assets/images/logo-dark-sm.png" alt="" height="26">
          </span>
          <span class="logo-lg">
            <img src="assets/images/logo-dark.png" alt="" height="36">
          </span>
        </a>

        <a href="index.html" class="logo logo-light">
          <span class="logo-lg">
            <img src="assets/images/logo-light.png" alt="" height="35">
          </span>
          <span class="logo-sm">
            <img src="assets/images/logo-light-sm.png" alt="" height="26">
          </span>
        </a>
      </div>

      <button type="button" class="btn btn-sm px-3 font-size-24 header-item waves-effect vertical-menu-btn">
        <i class="bx bx-menu align-middle"></i>
      </button>

      <div data-simplebar class="sidebar-menu-scroll">
        <!-- Sidemenu -->
        <div id="sidebar-menu">
          <!-- Left Menu Start -->
          <ul class="metismenu list-unstyled" id="side-menu">
            <li dmx-class:mm-active="browser1.location.pathname==='/adm_editais'">
              <a href="/adm_editais" internal="true">
                <i class="bx bx-copy-alt icon nav-icon"></i>
                <span class="menu-item" data-key="t-dashboard">Editais</span>
              </a>
            </li>
            <li dmx-class:mm-active="browser1.location.pathname==='/disciplinas'">
              <a href="/disciplinas" internal="true" dmx-hide="sc_user.data.user.acesso==3">
                <i class="bx bx-notepad icon nav-icon"></i>
                <span class="menu-item" data-key="t-dashboard">Disciplinas</span>
              </a>
            </li>
            <li dmx-class:mm-active="browser1.location.pathname==='/carreira'">
              <a href="/carreira" internal="true" dmx-hide="sc_user.data.user.acesso==3">
                <i class="bx bxs-briefcase-alt icon nav-icon"></i>
                <span class="menu-item" data-key="t-dashboard">Categorias</span>
              </a>
            </li>
            <li dmx-class:mm-active="browser1.location.pathname==='/adm_usuarios'">
              <a href="/adm_usuarios" internal="true" dmx-hide="sc_user.data.user.acesso==3">
                <i class="bx bx-user icon nav-icon"></i>
                <span class="menu-item" data-key="t-email">Usuários</span>
              </a>
            </li>

            <li dmx-class:mm-active="browser1.location.pathname==='/tutoriais'">
              <a href="/tutoriais" internal="true" dmx-hide="sc_user.data.user.acesso==3">
                <i class="bx bx-video icon nav-icon"></i>
                <span class="menu-item" data-key="Organização">Tutoriais</span>
              </a>

            </li>

            <li dmx-class:mm-active="browser1.location.pathname==='/notificacoes'">
              <a href="/notificacoes" internal="true" dmx-hide="sc_user.data.user.acesso==3">
                <i class="bx bx-bell icon nav-icon"></i>
                <span class="menu-item" data-key="t-invoices">Notificações</span>
              </a>

            </li>

            <li dmx-class:mm-active="browser1.location.pathname==='/frases'">
              <a href="/frases" internal="true" dmx-hide="sc_user.data.user.acesso==3">
                <i class="bx bx-text icon nav-icon"></i>
                <span class="menu-item" data-key="t-horizontal">Frases</span>
              </a>
            </li>

            <li dmx-class:mm-active="browser1.location.pathname==='/banners_comunidade'">
              <a href="/banners_comunidade" internal="true" dmx-hide="sc_user.data.user.acesso==3">
                <i class="bx bx-images icon nav-icon"></i>
                <span class="menu-item" data-key="t-ui-elements">Banners</span>
              </a>

            </li>
            <li dmx-class:mm-active="browser1.location.pathname==='/adm_comunidade'">
              <a href="/adm_comunidade" internal="true" dmx-hide="sc_user.data.user.acesso==3">
                <i class="bx bx-body icon nav-icon"></i>
                <span class="menu-item" data-key="t-ui-elements">Plataforma</span>
              </a>

            </li>
            <li dmx-class:mm-active="browser1.location.pathname==='/adm_sugestoes'">
              <a href="/adm_sugestoes" internal="true" dmx-hide="sc_user.data.user.acesso==3">
                <i class="bx bx-message icon nav-icon"></i>
                <span class="menu-item" data-key="t-forms">Sugestões</span>
                <span class="badge rounded-pill bg-warning" dmx-show="sc_sugestoes_pendentes.data.sugestoes_pendentes[0].total&gt;0">{{sc_sugestoes_pendentes.data.sugestoes_pendentes[0].total}}</span>
              </a>
            </li>

            <li class="menu-title lh-6" data-key="t-pages"></li>

            <li>
            </li>



          </ul>
        </div>


        <!-- Sidebar -->
      </div>
    </div>
    <!-- Left Sidebar End -->
    <header class="ishorizontal-topbar">
      <div class="navbar-header">
        <div class="d-flex">
          <!-- LOGO -->
          <div class="navbar-brand-box">
            <a href="index.html" class="logo logo-dark">
              <span class="logo-sm">
                <img src="assets/images/logo-dark-sm.png" alt="" height="26">
              </span>
              <span class="logo-lg">
                <img src="assets/images/logo-dark.png" alt="" height="28">
              </span>
            </a>

            <a href="index.html" class="logo logo-light">
              <span class="logo-sm">
                <img src="assets/images/logo-light-sm.png" alt="" height="26">
              </span>
              <span class="logo-lg">
                <img src="assets/images/logo-light.png" alt="" height="30">
              </span>
            </a>
          </div>

          <button type="button" class="btn btn-sm px-3 font-size-24 d-lg-none header-item" data-bs-toggle="collapse" data-bs-target="#topnav-menu-content">
            <i class="bx bx-menu align-middle"></i>
          </button>

          <!-- start page title -->
          <div class="page-title-box align-self-center d-none d-md-block">
            <h4 class="page-title mb-0">Starter Page</h4>
          </div>
          <!-- end page title -->

        </div>


      </div>

      <div class="topnav">
        <div class="container-fluid">
          <nav class="navbar navbar-expand-lg topnav-menu">

            <div class="collapse navbar-collapse" id="topnav-menu-content">
              <ul class="navbar-nav">
                <li class="nav-item dropdown">
                  <a class="nav-link dropdown-toggle arrow-none" href="#" id="topnav-dashboard" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    <i class="bx bx-home-alt icon nav-icon"></i>
                    <span data-key="t-dashboards">Dashboards</span>
                    <div class="arrow-down"></div>
                  </a>
                  <div class="dropdown-menu" aria-labelledby="topnav-dashboard">
                    <a href="index.html" class="dropdown-item" data-key="t-ecommerce">Ecommerce</a>
                    <a href="dashboard-sales.html" class="dropdown-item" data-key="t-sales">Sales</a>
                  </div>
                </li>

                <li class="nav-item dropdown">
                  <a class="nav-link dropdown-toggle arrow-none" href="#" id="topnav-uielement" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    <i class="bx bx-cube icon nav-icon"></i>
                    <span data-key="t-elements">Elements</span>
                    <div class="arrow-down"></div>
                  </a>

                  <div class="dropdown-menu mega-dropdown-menu px-2 dropdown-mega-menu-xl" aria-labelledby="topnav-uielement">
                    <div class="ps-2 p-lg-0">
                      <div class="row">
                        <div class="col-lg-12">
                          <div>
                            <div class="menu-title">Elements</div>
                            <div class="row g-0">
                              <div class="col-lg-4">
                                <div>
                                  <a href="ui-alerts.html" class="dropdown-item" data-key="t-alerts">Alerts</a>
                                  <a href="ui-buttons.html" class="dropdown-item" data-key="t-buttons">Buttons</a>
                                  <a href="ui-cards.html" class="dropdown-item" data-key="t-cards">Cards</a>
                                  <a href="ui-carousel.html" class="dropdown-item" data-key="t-carousel">Carousel</a>
                                  <a href="ui-dropdowns.html" class="dropdown-item" data-key="t-dropdowns">Dropdowns</a>
                                  <a href="ui-grid.html" class="dropdown-item" data-key="t-grid">Grid</a>
                                  <a href="ui-images.html" class="dropdown-item" data-key="t-images">Images</a>
                                </div>
                              </div>
                              <div class="col-lg-4">
                                <div>
                                  <a href="ui-lightbox.html" class="dropdown-item" data-key="t-lightbox">Lightbox</a>
                                  <a href="ui-modals.html" class="dropdown-item" data-key="t-modals">Modals</a>
                                  <a href="ui-offcanvas.html" class="dropdown-item" data-key="t-offcanvas">Offcanvas</a>
                                  <a href="ui-rangeslider.html" class="dropdown-item" data-key="t-range-slider">Range Slider</a>
                                  <a href="ui-progressbars.html" class="dropdown-item" data-key="t-progress-bars">Progress Bars</a>
                                  <a href="ui-sweet-alert.html" class="dropdown-item" data-key="t-sweet-alert">Sweet-Alert</a>
                                  <a href="ui-tabs-accordions.html" class="dropdown-item" data-key="t-tabs-accordions">Tabs & Accordions</a>
                                </div>
                              </div>
                              <div class="col-lg-4">
                                <div>
                                  <a href="ui-typography.html" class="dropdown-item" data-key="t-typography">Typography</a>
                                  <a href="ui-video.html" class="dropdown-item" data-key="t-video">Video</a>
                                  <a href="ui-general.html" class="dropdown-item" data-key="t-general">General</a>
                                  <a href="ui-colors.html" class="dropdown-item" data-key="t-colors">Colors</a>
                                  <a href="ui-rating.html" class="dropdown-item" data-key="t-rating">Rating</a>
                                  <a href="ui-notifications.html" class="dropdown-item" data-key="t-notifications">Notifications</a>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </li>

                <li class="nav-item dropdown">
                  <a class="nav-link dropdown-toggle arrow-none" href="#" id="topnav-pages" role="button">
                    <i class="bx bx-store icon nav-icon"></i>
                    <span data-key="t-apps">Apps</span>
                    <div class="arrow-down"></div>
                  </a>
                  <div class="dropdown-menu" aria-labelledby="topnav-pages">

                    <a href="apps-calendar.html" class="dropdown-item" data-key="t-calendar">Calendar</a>

                    <a href="apps-todo.html" class="dropdown-item" data-key="t-todo">Todo</a>

                    <a href="apps-file-manager.html" class="dropdown-item" data-key="t-filemanager">File Manager</a>

                    <a href="apps-chat.html" class="dropdown-item" data-key="t-chat">Chat</a>


                    <div class="dropdown">
                      <a class="dropdown-item dropdown-toggle arrow-none" href="#" id="topnav-ecommerce" role="button">
                        <span data-key="t-ecommerce">Ecommerce</span>
                        <div class="arrow-down"></div>
                      </a>
                      <div class="dropdown-menu" aria-labelledby="topnav-ecommerce">
                        <a href="ecommerce-products.html" class="dropdown-item" data-key="t-products">Products</a>
                        <a href="ecommerce-product-detail.html" class="dropdown-item" data-key="t-product-detail">Product Detail</a>
                        <a href="ecommerce-orders.html" class="dropdown-item" data-key="t-orders">Orders</a>
                        <a href="ecommerce-customers.html" class="dropdown-item" data-key="t-customers">Customers</a>
                        <a href="ecommerce-cart.html" class="dropdown-item" data-key="t-cart">Cart</a>
                        <a href="ecommerce-checkout.html" class="dropdown-item" data-key="t-checkout">Checkout</a>
                        <a href="ecommerce-shops.html" class="dropdown-item" data-key="t-shops">Shops</a>
                        <a href="ecommerce-add-product.html" class="dropdown-item" data-key="t-add-product">Add Product</a>
                      </div>
                    </div>

                    <div class="dropdown">
                      <a class="dropdown-item dropdown-toggle arrow-none" href="#" id="topnav-email" role="button">
                        <span data-key="t-email">Email</span>
                        <div class="arrow-down"></div>
                      </a>
                      <div class="dropdown-menu" aria-labelledby="topnav-email">
                        <a href="email-inbox.html" class="dropdown-item" data-key="t-inbox">Inbox</a>
                        <a href="email-read.html" class="dropdown-item" data-key="t-read-email">Read Email</a>
                      </div>
                    </div>

                    <div class="dropdown">
                      <a class="dropdown-item dropdown-toggle arrow-none" href="#" id="topnav-invoices" role="button">
                        <span data-key="t-invoices">Invoices</span>
                        <div class="arrow-down"></div>
                      </a>
                      <div class="dropdown-menu" aria-labelledby="topnav-invoices">
                        <a href="invoices-list.html" class="dropdown-item" data-key="t-invoice-list">Invoice List</a>
                        <a href="invoices-detail.html" class="dropdown-item" data-key="t-invoice-detail">Invoice Detail</a>
                      </div>
                    </div>

                    <div class="dropdown">
                      <a class="dropdown-item dropdown-toggle arrow-none" href="#" id="topnav-contact" role="button">
                        <span data-key="t-contacts">Contacts</span>
                        <div class="arrow-down"></div>
                      </a>
                      <div class="dropdown-menu" aria-labelledby="topnav-contact">
                        <a href="contacts-grid.html" class="dropdown-item" data-key="t-user-grid">User Grid</a>
                        <a href="contacts-list.html" class="dropdown-item" data-key="t-user-list">User List</a>
                        <a href="contacts-profile.html" class="dropdown-item" data-key="t-user-profile">Profile</a>
                      </div>
                    </div>
                  </div>
                </li>

                <li class="nav-item dropdown">
                  <a class="nav-link dropdown-toggle arrow-none" href="#" id="topnav-components" role="button">
                    <i class="bx bx-layer icon nav-icon"></i>
                    <span data-key="t-components">Components</span>
                    <div class="arrow-down"></div>
                  </a>
                  <div class="dropdown-menu" aria-labelledby="topnav-components">
                    <div class="dropdown">
                      <a class="dropdown-item dropdown-toggle arrow-none" href="#" id="topnav-form" role="button">
                        <span data-key="t-forms">Forms</span>
                        <div class="arrow-down"></div>
                      </a>
                      <div class="dropdown-menu" aria-labelledby="topnav-form">
                        <a href="form-elements.html" class="dropdown-item" data-key="t-form-elements">Form Elements</a>
                        <a href="form-layouts.html" class="dropdown-item" data-key="t-form-layouts">Form Layouts</a>
                        <a href="form-validation.html" class="dropdown-item" data-key="t-form-validation">Form Validation</a>
                        <a href="form-advanced.html" class="dropdown-item" data-key="t-form-advanced">Form Advanced</a>
                        <a href="form-editors.html" class="dropdown-item" data-key="t-form-editors">Form Editors</a>
                        <a href="form-uploads.html" class="dropdown-item" data-key="t-form-upload">Form File Upload</a>
                        <a href="form-wizard.html" class="dropdown-item" data-key="t-form-wizard">Form Wizard</a>
                        <a href="form-mask.html" class="dropdown-item" data-key="t-form-mask">Form Mask</a>
                      </div>
                    </div>
                    <div class="dropdown">
                      <a class="dropdown-item dropdown-toggle arrow-none" href="#" id="topnav-table" role="button">
                        <span data-key="t-tables">Tables</span>
                        <div class="arrow-down"></div>
                      </a>
                      <div class="dropdown-menu" aria-labelledby="topnav-table">
                        <a href="tables-basic.html" class="dropdown-item" data-key="t-basic-tables">Basic Tables</a>
                        <a href="tables-advanced.html" class="dropdown-item" data-key="t-advanced-tables">Advance Tables</a>
                      </div>
                    </div>

                    <div class="dropdown">
                      <a class="dropdown-item dropdown-toggle arrow-none" href="#" id="topnav-charts" role="button">
                        <span data-key="t-charts">Charts</span>
                        <div class="arrow-down"></div>
                      </a>
                      <div class="dropdown-menu" aria-labelledby="topnav-charts">
                        <a href="charts-apex.html" class="dropdown-item" data-key="t-apex-charts">Apex Charts</a>
                        <a href="charts-chartjs.html" class="dropdown-item" data-key="t-chartjs-charts">Chartjs Charts</a>
                        <a href="charts-tui.html" class="dropdown-item" data-key="t-ui-charts">Toast UI Charts</a>
                      </div>
                    </div>

                    <div class="dropdown">
                      <a class="dropdown-item dropdown-toggle arrow-none" href="#" id="topnav-icons" role="button">
                        <span data-key="t-icons">Icons</span>
                        <div class="arrow-down"></div>
                      </a>
                      <div class="dropdown-menu" aria-labelledby="topnav-icons">
                        <a href="icons-evaicons.html" class="dropdown-item" data-key="t-evaicons">Eva Icons</a>
                        <a href="icons-boxicons.html" class="dropdown-item" data-key="t-boxicons">Boxicons</a>
                        <a href="icons-materialdesign.html" class="dropdown-item" data-key="t-material-design">Material Design</a>
                        <a href="icons-fontawesome.html" class="dropdown-item" data-key="t-font-awesome">Font Awesome 5</a>
                      </div>
                    </div>
                    <div class="dropdown">
                      <a class="dropdown-item dropdown-toggle arrow-none" href="#" id="topnav-map" role="button">
                        <span data-key="t-maps">Maps</span>
                        <div class="arrow-down"></div>
                      </a>
                      <div class="dropdown-menu" aria-labelledby="topnav-map">
                        <a href="maps-google.html" class="dropdown-item" data-key="t-google">Google</a>
                        <a href="maps-vector.html" class="dropdown-item" data-key="t-vector">Vector</a>
                        <a href="maps-leaflet.html" class="dropdown-item" data-key="t-leaflet">Leaflet</a>
                      </div>
                    </div>
                  </div>
                </li>

                <li class="nav-item dropdown">
                  <a class="nav-link dropdown-toggle arrow-none" href="#" id="topnav-more" role="button">
                    <i class="bx bx-file icon nav-icon"></i>
                    <span data-key="t-pages">Pages</span>
                    <div class="arrow-down"></div>
                  </a>
                  <div class="dropdown-menu" aria-labelledby="topnav-more">
                    <div class="dropdown">
                      <a class="dropdown-item dropdown-toggle arrow-none" href="#" id="topnav-authentication" role="button">
                        <span data-key="t-authentication">Authentication</span>
                        <div class="arrow-down"></div>
                      </a>
                      <div class="dropdown-menu" aria-labelledby="topnav-authentication">
                        <a href="auth-login.html" class="dropdown-item" data-key="t-login">Login</a>
                        <a href="auth-register.html" class="dropdown-item" data-key="t-register">Register</a>
                        <a href="auth-recoverpw.html" class="dropdown-item" data-key="t-recover-password">Recover Password</a>
                        <a href="auth-lock-screen.html" class="dropdown-item" data-key="t-lock-screen">Lock Screen</a>
                        <a href="auth-logout.html" class="dropdown-item" data-key="t-logout">Logout</a>
                        <a href="auth-confirm-mail.html" class="dropdown-item" data-key="t-confirm-mail">Confirm Mail</a>
                        <a href="auth-email-verification.html" class="dropdown-item" data-key="t-email-verification">Email Verification</a>
                        <a href="auth-two-step-verification.html" class="dropdown-item" data-key="t-two-step-verification">Two Step Verification</a>
                      </div>
                    </div>

                    <div class="dropdown">
                      <a class="dropdown-item dropdown-toggle arrow-none" href="#" id="topnav-utility" role="button">
                        <span data-key="t-utility">Utility</span>
                        <div class="arrow-down"></div>
                      </a>
                      <div class="dropdown-menu" aria-labelledby="topnav-utility">
                        <a href="pages-starter.html" class="dropdown-item" data-key="t-starter-page">Starter Page</a>
                        <a href="pages-maintenance.html" class="dropdown-item" data-key="t-maintenance">Maintenance</a>
                        <a href="pages-comingsoon.html" class="dropdown-item" data-key="t-coming-soon">Coming Soon</a>
                        <a href="pages-timeline.html" class="dropdown-item" data-key="t-timeline">Timeline</a>
                        <a href="pages-faqs.html" class="dropdown-item" data-key="t-faqs">FAQs</a>
                        <a href="pages-pricing.html" class="dropdown-item" data-key="t-pricing">Pricing</a>
                        <a href="pages-404.html" class="dropdown-item" data-key="t-error-404">Error 404</a>
                        <a href="pages-500.html" class="dropdown-item" data-key="t-error-500">Error 500</a>
                      </div>
                    </div>

                    <a href="layouts-horizontal.html" class="dropdown-item" data-key="t-horizontal">Horizontal</a>
                  </div>
                </li>

              </ul>
            </div>
          </nav>
        </div>
      </div>
    </header>

    <!-- ============================================================== -->
    <!-- Start right Content here -->
    <!-- ============================================================== -->
    <div class="main-content">
      <div class="page-content">
        <div class="row mb-3 ms-3 me-3">
          <div class="d-flex align-items-center justify-content-between col">
            <h3 class="ms-3 text-primary-emphasis" id="pageTitle">
              <!-- Removendo os spans dinâmicos para deixar o título estático -->
            </h3>
          </div>
        </div>
        <div class="container-fluid">
          <div is="dmx-view" id="content">
            <%- await include(content, locals) %>
          </div>
        </div>
        <!-- container-fluid -->
      </div>
      <!-- End Page-content -->
    </div>
    <!-- end main content-->

  </div>
  <!-- END layout-wrapper -->



  <!-- Right bar overlay-->
  <div class="rightbar-overlay"></div>

  <!-- chat offcanvas -->
  <div class="offcanvas offcanvas-end" tabindex="-1" id="offcanvasActivity" aria-labelledby="offcanvasActivityLabel">
    <div class="offcanvas-header border-bottom">
      <h5 id="offcanvasActivityLabel">Offcanvas right</h5>
      <button type="button" class="btn-close text-reset" data-bs-dismiss="offcanvas" aria-label="Close"></button>
    </div>
    <div class="offcanvas-body">
      ...
    </div>
  </div>
  <!-- JAVASCRIPT -->
  <script src="assets/libs/bootstrap/js/bootstrap.bundle.min.js"></script>
  <script src="assets/libs/metismenujs/metismenujs.min.js"></script>
  <script src="assets/libs/simplebar/simplebar.min.js"></script>
  <script src="assets/libs/eva-icons/eva.min.js"></script>

  <script src="/assets/js/app.js"></script>


  <script>
    document.addEventListener("DOMContentLoaded", function () {
    const btn = document.getElementById("btn1");
    const icon = document.getElementById("theme-icon");

    // Função para atualizar a visibilidade dos logos com base no tema
    function updateLogos(theme) {
        const logoDark = document.querySelectorAll('.logo.logo-dark');
        const logoLight = document.querySelectorAll('.logo.logo-light');
        
        if (theme === 'dark') {
            logoDark.forEach(logo => logo.style.display = 'none');
            logoLight.forEach(logo => logo.style.display = 'block');
        } else {
            logoDark.forEach(logo => logo.style.display = 'block');
            logoLight.forEach(logo => logo.style.display = 'none');
        }
    }

    // Verifica o tema salvo no localStorage
    const savedTheme = localStorage.getItem("theme");

    if (savedTheme) {
        document.documentElement.setAttribute("data-bs-theme", savedTheme);
        icon.classList.toggle("fa-sun", savedTheme === "dark");
        icon.classList.toggle("fa-moon", savedTheme !== "dark");
        updateLogos(savedTheme);
    } else {
        // Tema padrão é light
        updateLogos('light');
    }

    btn.addEventListener("click", function () {
        let currentTheme = document.documentElement.getAttribute("data-bs-theme");
        let newTheme = currentTheme === "dark" ? "light" : "dark";

        document.documentElement.setAttribute("data-bs-theme", newTheme);
        localStorage.setItem("theme", newTheme);

        // Alterna o ícone
        icon.classList.toggle("fa-sun", newTheme === "dark");
        icon.classList.toggle("fa-moon", newTheme !== "dark");
        
        // Atualiza os logos
        updateLogos(newTheme);
    });
    });
  </script>

</body>

</html>